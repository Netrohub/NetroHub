<x-layouts.app> <x-slot name="title">{{ __('Identity Verification') }} - {{ config('app.name') }}</x-slot> <!-- Hero Background --> <section class="relative"> <!-- Particles animation --> <div class="absolute inset-0 -z-10" aria-hidden="true"> <canvas data-particle-animation data-particle-quantity="3"></canvas> </div> <!-- Illustration --> <div class="absolute inset-0 -z-10 -mx-28 rounded-b-[3rem] pointer-events-none overflow-hidden" aria-hidden="true"> <div class="absolute left-1/2 -translate-x-1/2 top-0 -z-10"> <img src="{{ asset('stellar-assets/images/glow-top.svg') }}" class="max-w-none" width="1404" height="658" alt="Verification Illustration"> </div> </div> <div class="relative max-w-6xl mx-auto px-4 sm:px-6"> <div class="pt-32 pb-16 md:pt-40 md:pb-20"> <!-- Page Header --> <div class="max-w-3xl mx-auto text-center pb-12" data-aos="fade-down"> <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-b from-slate-800/60 to-slate-800/40 border border-slate-700/50 mb-6"> <svg class="w-8 h-8 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/> </svg> </div> <h1 class="h2 bg-clip-text text-transparent bg-linear-to-r from-slate-200/60 via-slate-200 to-slate-200/60 pb-4">{{ __('Identity Verification') }}</h1> <p class="text-lg text-slate-300">{{ __('Verify your identity to unlock selling features and secure your account') }}</p> </div> <!-- Flash Messages --> @if(session('success')) <div class="max-w-3xl mx-auto mb-8" data-aos="fade-up"> <div class="bg-gradient-to-b from-green-500/10 to-green-500/5 border border-green-500/20 rounded-2xl p-6"> <div class="flex items-center"> <svg class="w-6 h-6 text-green-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <span class="text-green-300 font-medium">{{ session('success') }}</span> </div> </div> </div> @endif @if(session('error')) <div class="max-w-3xl mx-auto mb-8" data-aos="fade-up"> <div class="bg-gradient-to-b from-red-500/10 to-red-500/5 border border-red-500/20 rounded-2xl p-6"> <div class="flex items-center"> <svg class="w-6 h-6 text-red-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <span class="text-red-300 font-medium">{{ session('error') }}</span> </div> </div> </div> @endif <!-- Status Cards --> @if($latestSubmission && $latestSubmission->isPending()) <!-- Pending Verification --> <div class="max-w-3xl mx-auto mb-8" data-aos="fade-up"> <div class="relative group"> <div class="absolute inset-0 bg-gradient-to-b from-yellow-500/10 to-yellow-500/5 rounded-2xl -m-px opacity-0 group-hover:opacity-100 transition duration-700 ease-out"></div> <div class="relative bg-slate-800 rounded-2xl p-8 border border-slate-700/50"> <div class="flex items-center mb-6"> <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-b from-yellow-500/20 to-yellow-500/10 mr-4"> <svg class="w-6 h-6 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> </div> <h2 class="text-2xl font-bold text-yellow-400">{{ __('Verification Under Review') }}</h2> </div> <p class="text-slate-300 mb-6"> {{ __('Your identity verification is currently being processed. We\'ll notify you once it\'s complete, usually within 24-48 hours.') }} </p> <div class="bg-slate-900/50 rounded-xl p-6 space-y-3"> <div class="flex items-center justify-between"> <span class="text-slate-400">{{ __('Status') }}</span> <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"> {{ __('Pending Review') }} </span> </div> <div class="flex items-center justify-between"> <span class="text-slate-400">{{ __('Submitted') }}</span> <span class="text-slate-200">{{ $latestSubmission->created_at->format('M j, Y g:i A') }}</span> </div> @if($latestSubmission->full_name) <div class="flex items-center justify-between"> <span class="text-slate-400">{{ __('Name') }}</span> <span class="text-slate-200">{{ $latestSubmission->full_name }}</span> </div> @endif </div> </div> </div> </div> @elseif($latestSubmission && $latestSubmission->isRejected()) <!-- Rejected Verification --> <div class="max-w-3xl mx-auto mb-8" data-aos="fade-up"> <div class="relative group"> <div class="absolute inset-0 bg-gradient-to-b from-red-500/10 to-red-500/5 rounded-2xl -m-px opacity-0 group-hover:opacity-100 transition duration-700 ease-out"></div> <div class="relative bg-slate-800 rounded-2xl p-8 border border-red-500/30"> <div class="flex items-center mb-6"> <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-b from-red-500/20 to-red-500/10 mr-4"> <svg class="w-6 h-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> </div> <h2 class="text-2xl font-bold text-red-400">{{ __('Verification Declined') }}</h2> </div> <p class="text-slate-300 mb-6"> {{ __('Unfortunately, your verification was declined. Please review the feedback and submit a new verification.') }} </p> @if($latestSubmission->notes) <div class="bg-slate-900/50 rounded-xl p-6 mb-6"> <h3 class="font-semibold text-slate-200 mb-2">{{ __('Feedback') }}:</h3> <p class="text-slate-400">{{ $latestSubmission->notes }}</p> </div> @endif <button onclick="startPersonaVerification()" class="btn text-white bg-linear-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 w-full sm:w-auto transition duration-150 ease-in-out"> <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/> </svg> {{ __('Start New Verification') }} </button> </div> </div> </div> @elseif($user->is_verified && $latestSubmission && $latestSubmission->isApproved()) <!-- Approved Verification --> <div class="max-w-3xl mx-auto mb-8" data-aos="fade-up"> <div class="relative group"> <div class="absolute inset-0 bg-gradient-to-b from-green-500/10 to-green-500/5 rounded-2xl -m-px opacity-0 group-hover:opacity-100 transition duration-700 ease-out"></div> <div class="relative bg-slate-800 rounded-2xl p-8 border border-green-500/30"> <div class="flex items-center mb-6"> <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-b from-green-500/20 to-green-500/10 mr-4"> <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> </div> <h2 class="text-2xl font-bold text-green-400">{{ __('Identity Verified') }}</h2> </div> <p class="text-slate-300 mb-6"> {{ __('Your identity has been successfully verified. You now have access to all platform features.') }} </p> <div class="bg-slate-900/50 rounded-xl p-6"> <div class="flex items-center justify-between"> <span class="text-slate-400">{{ __('Verified On') }}</span> <span class="text-slate-200">{{ $latestSubmission->reviewed_at?->format('M j, Y') ?? $latestSubmission->created_at->format('M j, Y') }}</span> </div> </div> </div> </div> </div> @else <!-- Start Verification --> <div class="max-w-3xl mx-auto" data-aos="fade-up"> <div class="relative group"> <div class="absolute inset-0 bg-gradient-to-b from-purple-500/10 to-purple-500/5 rounded-2xl -m-px opacity-0 group-hover:opacity-100 transition duration-700 ease-out"></div> <div class="relative bg-slate-800 rounded-2xl p-8 lg:p-12 border border-slate-700/50"> <!-- Info Notice --> <div class="bg-gradient-to-b from-blue-500/10 to-blue-500/5 border border-blue-500/20 rounded-xl p-6 mb-8"> <div class="flex items-start"> <svg class="w-6 h-6 text-blue-400 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <div> <h4 class="text-blue-400 font-semibold mb-2">{{ __('Secure & Private Verification') }}</h4> <p class="text-sm text-slate-300"> {{ __('We use Persona, a trusted identity verification platform, to securely verify your identity. Your data is encrypted and protected in accordance with international data protection standards.') }} </p> </div> </div> </div> <!-- What You'll Need --> <div class="mb-8"> <h3 class="text-xl font-bold text-slate-200 mb-4">{{ __('What You\'ll Need') }}</h3> <div class="grid sm:grid-cols-2 gap-4"> <div class="flex items-start"> <svg class="w-5 h-5 text-purple-400 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <div> <span class="text-slate-200 font-medium">{{ __('Government-issued ID') }}</span> <p class="text-sm text-slate-400">{{ __('Passport, driver\'s license, or national ID') }}</p> </div> </div> <div class="flex items-start"> <svg class="w-5 h-5 text-purple-400 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <div> <span class="text-slate-200 font-medium">{{ __('Smartphone or webcam') }}</span> <p class="text-sm text-slate-400">{{ __('For selfie and document photos') }}</p> </div> </div> <div class="flex items-start"> <svg class="w-5 h-5 text-purple-400 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <div> <span class="text-slate-200 font-medium">{{ __('5-10 minutes') }}</span> <p class="text-sm text-slate-400">{{ __('The process is quick and simple') }}</p> </div> </div> <div class="flex items-start"> <svg class="w-5 h-5 text-purple-400 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/> </svg> <div> <span class="text-slate-200 font-medium">{{ __('Good lighting') }}</span> <p class="text-sm text-slate-400">{{ __('Clear photos improve approval speed') }}</p> </div> </div> </div> </div> <!-- Start Button --> <div class="text-center"> <button onclick="startPersonaVerification()" id="start-verification-btn" class="btn text-slate-900 bg-linear-to-r from-white/80 via-white to-white/80 hover:bg-white transition duration-150 ease-in-out group"> <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/> </svg> {{ __('Start Verification') }} <span class="tracking-normal text-purple-500 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1">-&gt;</span> </button> <p class="text-sm text-slate-400 mt-4"> {{ __('By continuing, you agree to our') }} <a href="{{ route('legal.privacy') }}" class="text-purple-400 hover:text-purple-300">{{ __('Privacy Policy') }}</a> </p> </div> </div> </div> </div> @endif <!-- Help Section --> <div class="max-w-3xl mx-auto mt-12" data-aos="fade-up" data-aos-delay="200"> <div class="bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-700/30"> <h3 class="text-xl font-bold text-slate-200 mb-6">{{ __('Frequently Asked Questions') }}</h3> <div class="space-y-6"> <div> <h4 class="font-semibold text-slate-200 mb-2">{{ __('Why do I need to verify my identity?') }}</h4> <p class="text-slate-400 text-sm">{{ __('Identity verification helps us maintain a safe and trusted marketplace for all users. It\'s required for sellers and helps prevent fraud.') }}</p> </div> <div> <h4 class="font-semibold text-slate-200 mb-2">{{ __('How long does verification take?') }}</h4> <p class="text-slate-400 text-sm">{{ __('The verification process itself takes 5-10 minutes. Review typically completes within 24-48 hours, though most verifications are processed much faster.') }}</p> </div> <div> <h4 class="font-semibold text-slate-200 mb-2">{{ __('Is my data secure?') }}</h4> <p class="text-slate-400 text-sm">{{ __('Yes. We use bank-level encryption and partner with Persona, a trusted identity verification platform. Your data is never sold or shared with third parties.') }}</p> </div> <div> <h4 class="font-semibold text-slate-200 mb-2">{{ __('What if my verification is rejected?') }}</h4> <p class="text-slate-400 text-sm">{{ __('You\'ll receive feedback explaining why and can resubmit with corrected information. Common issues include blurry photos or expired documents.') }}</p> </div> </div> </div> </div> </div> </div> </section> @push('scripts') <!-- Persona SDK --> <script src="https://cdn.withpersona.com/dist/persona-v5.3.0.js"></script> <script> let personaClient = null; async function startPersonaVerification() { const btn = document.getElementById('start-verification-btn'); if (btn) { btn.disabled = true; btn.innerHTML = '<svg class="animate-spin h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> {{ __("Starting...") }}'; } try { // Create inquiry on backend const response = await fetch('{{ route("persona.kyc.create") }}', { method: 'POST', headers: { 'Content-Type': 'application/json', 'X-CSRF-TOKEN': '{{ csrf_token() }}' } }); if (!response.ok) { const error = await response.json(); throw new Error(error.error || 'Failed to start verification'); } const data = await response.json(); // Initialize Persona client personaClient = new Persona.Client({ templateId: '{{ config("services.persona.template_id") }}', environment: '{{ config("services.persona.environment") }}', inquiryId: data.inquiry_id, onReady: () => { console.log('Persona ready'); personaClient.open(); }, onComplete: ({ inquiryId, status, fields }) => { console.log('Verification complete', { inquiryId, status }); window.location.href = '{{ route("account.index") }}?kyc_submitted=1'; }, onCancel: ({ inquiryId, sessionToken }) => { console.log('Verification cancelled'); if (btn) { btn.disabled = false; btn.innerHTML = '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>{{ __("Start Verification") }}<span class="tracking-normal text-purple-500 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1">-&gt;</span>'; } }, onError: (error) => { console.error('Persona error:', error); alert('{{ __("An error occurred. Please try again.") }}'); if (btn) { btn.disabled = false; btn.innerHTML = '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>{{ __("Start Verification") }}<span class="tracking-normal text-purple-500 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1">-&gt;</span>'; } } }); } catch (error) { console.error('Error:', error); alert(error.message || '{{ __("Failed to start verification. Please try again.") }}'); if (btn) { btn.disabled = false; btn.innerHTML = '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>{{ __("Start Verification") }}<span class="tracking-normal text-purple-500 group-hover:translate-x-0.5 transition-transform duration-150 ease-in-out ml-1">-&gt;</span>'; } } } </script> @endpush </x-layouts.app>
